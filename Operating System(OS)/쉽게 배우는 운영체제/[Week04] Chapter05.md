# **Chapter05 - í”„ë¡œì„¸ìŠ¤ ë™ê¸°í™”**

# **[ ğŸ“‹ ëª©ì°¨ ]**
- í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ 
- ê³µìœ  ìì›ê³¼ ì„ê³„êµ¬ì—­
- ì„ê³„êµ¬ì—­ í•´ê²° ë°©ë²•
- íŒŒì¼, íŒŒì´í”„, ì†Œì¼“ í”„ë¡œê·¸ë˜ë°

****

# **[ ğŸ—‚ï¸ ì •ë¦¬ ]**
### ğŸ“Œ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ 
#### âš™ï¸ ê°œë…
í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ (Inter-Process Communication, IPC) ëŠ” ì»´í“¨í„° ë‚´ì˜ í”„ë¡œì„¸ìŠ¤ ë¿ ì•„ë‹ˆë¼ ë„¤íŠ¸ì›Œí¬ë¡œ ì—°ê²°ëœ ë‹¤ë¥¸ ì»´í“¨í„°ì˜
í”„ë¡œì„¸ìŠ¤ë„ í¬í•¨ëœë‹¤.  

OS ì— ë„ì›€ ì—†ì´ ì§„í–‰ë˜ëŠ” í†µì‹  ë°©ì‹ì—ëŠ” ì „ì—­ ë³€ìˆ˜ í˜¹ì€ íŒŒì¼ì„ ì´ìš©í•˜ëŠ” ë°©ì‹ì´ ìˆê³ , ë°˜ëŒ€ë¡œ OS ì˜ ë„ì›€ì´ í•„ìš”í•œ íŒŒì´í”„, ì†Œì¼“, ì›ê²© í”„ë¡œì‹œì € í˜¸ì¶œ
(Remote Procedure Call, RPC) ê°€ ìˆë‹¤.

#### âš™ í†µì‹  ë¶„ë¥˜
- ì–‘ë°©í–¥ í†µì‹ (Duplex Communication)
  - ì–‘ìª½ ë°©í–¥ì—ì„œ ë°ì´í„° ì†¡, ìˆ˜ì‹ ì´ ê°€ëŠ¥í•œ êµ¬ì¡° ex) ì†Œì¼“
- ë°˜ì–‘ë°©í–¥ í†µì‹ (Half-Duplex Communication)
  - ë™ì‹œì— ì–‘ìª½ì—ì„œ ì†¡ì‹ ì´ ë¶ˆê°€ëŠ¥í•œ êµ¬ì¡° ex) ë¬´ì „ê¸°
- ë‹¨ë°©í–¥ í†µì‹ (Simplex Communication)
  - í•œìª½ìœ¼ë¡œë§Œ ì†¡ì‹  ê°€ëŠ¥í•œ êµ¬ì¡° ex) ì „ì—­ ë³€ìˆ˜, íŒŒì´í”„
  
#### âš™ï¸ êµ¬í˜„ ë°©ì‹ì— ë”°ë¥¸ ì˜¤ë¥˜
ì „ì—­ ë³€ìˆ˜ë¥¼ ì´ìš©í•œ êµ¬í˜„ì€ ì–¸ì œ ë°ì´í„°ê°€ ì†¡ì‹ ë ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ì§€ì†ì ìœ¼ë¡œ í™•ì¸ì„ í•´ì¤˜ì•¼ í•˜ëŠ”ë° ì´ ê²ƒì„ Busy Waiting ì´ë¼ê³  í•œë‹¤.  
Busy Waiting ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë°ì´í„° ì†¡ì‹ ì´ ëë‚˜ë©´ ì•Œë ¤ì£¼ëŠ” ë™ê¸°í™”(Synchronization) ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. (ì¼ì¢…ì˜ ì•Œë¦¼)  
ì´ëŸ° ë™ê¸°í™” ê¸°ëŠ¥ ìœ ë¬´ì— ë”°ë¼ì‚¬ì„œ í†µì‹ ì´ ë‚˜ë‰˜ê²Œ ëœë‹¤.

- Blocking Communication
- Non-Blocking Communication
- Synchronous Communication
- Asynchronous Communication

#### âš™ï¸ ì „ì—­ ë³€ìˆ˜ë¥¼ ì´ìš©í•œ í†µì‹ 
ìì‹ í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„± í•  ë•Œ ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì „ì—­ ë³€ìˆ˜ë¥¼ ìƒì„±í•´ ë†“ì•˜ë‹¤ë©´ ë¶€ëª¨-ìì‹ í”„ë¡œì„¸ìŠ¤ê°„ì˜ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤.

```
int GV;

int main() {
  int pid;
  
  pid = fork();
  ...
}
```

ì „ì—­ ë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ê°œ ìƒì„±í•´ì„œ ë¶€ëª¨-ìì‹ ê°„ì˜ ì–‘ë°©í–¥ í†µì‹ ë„ ê°€ëŠ¥í•˜ë‹¤.

```
int GV_FROM_PARENT;
int GV_FROM_CHILD;

int main() {
  int pid;
  
  pid = fork();
  ...
}
```

í•˜ì§€ë§Œ ì „ì—­ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì–¸ì œ ì“°ê¸°(write) ì‘ì—…ì´ ì´ë£¨ì–´ì§ˆì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ê³„ì†í•´ì„œ í™•ì¸ì„ í•´ì¤˜ì•¼ í•œë‹¤.

#### âš™ íŒŒì¼ì„ ì´ìš©í•œ í†µì‹ 
íŒŒì¼ ì…ì¶œë ¥ ì½”ë“œëŠ” open(), read(), write(), close() ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.

```
int main() {
  int fd;
  char buf[5]
  
  fd=open("com.text", 0_RDWR);    // íŒŒì¼ ìœ ë¬´ í™•ì¸ & ì“°ê¸° ê¶Œí•œ í™•ì¸(ì½ê¸°ë§Œ: 0_RDONLY)
  write(fd, "Test", 5);           // Test ë¼ëŠ” ë¬¸ìì—´ ì‘ì„±(ë§ˆì§€ë§‰ null í¬í•¨)
  read(fd, buf, 5);               // 5B ë²„í¼ì— ì €ì¥
  close(fd);
  exit(0)
}
```

ì“°ê¸° -> ë°ì´í„°ê°€ ì €ì¥   
ì½ê¸° -> ì…ì¶œë ¥ í”„ë¡œë ˆìŠ¤ë¡œë¶€í„° ë°ì´í„° ê°€ì ¸ì˜´  
OS ì…ì¥ì—ì„œëŠ” ì €ì¥ì¥ì¹˜ì˜ ë°ì´í„°ë¥¼ ì½ê³  ì“°ëŠ” ê²ƒë„ í”„ë¡œì„¸ìŠ¤-ì…ì¶œë ¥ í”„ë¡œì„¸ìŠ¤ í†µì‹ ì´ë‹¤.  
íŒŒì¼ì„ ì´ìš©í•˜ë©´ OS ë ˆë²¨ì—ì„œ ê´€ë¦¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë™ê¸°í™”ë¥¼ ìŠ¤ìŠ¤ë¡œ í•´ì•¼ í•˜ëŠ”ë° ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ê°€ wait()ë¥¼ í˜¸ì¶œí•´ì„œ ìì‹ í”„ë¡œì„¸ìŠ¤ì˜ ì‘ì—…ì´
ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ ì‘ì—…ì„ ì‹œì‘í•œë‹¤.

#### âš™ íŒŒì´í”„ë¥¼ ì´ìš©í•œ í†µì‹ 
í”„ë¡œì„¸ìŠ¤ê°€ íŒŒì´í”„ì— ì½ê¸° ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê³ , ë°ì´í„°ê°€ ì•„ì§ ì“°ì—¬ì§€ì§€ ì•Šì•˜ë‹¤ë©´ ê·¸ ìƒíƒœë¡œ ëŒ€ê¸°í•œë‹¤.  
ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ í•´ë‹¹ íŒŒì´í”„ì— ì“°ê¸° ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë©´ ê·¸ ë•Œì„œì•¼ ëŒ€ê¸° ìƒíƒœê°€ í’€ë¦¬ë©´ì„œ ë™ê¸°í™”ê°€ ì´ë£¨ì–´ì§„ë‹¤.

- ì´ë¦„ ì—†ëŠ” íŒŒì´í”„(Anonymous Pipe)
  - ë¶€ëª¨-ìì‹ ê´€ê³„ì˜ í”„ë¡œì„¸ìŠ¤
  - ê°™ì€ ë¶€ëª¨ë¥¼ ê°–ëŠ” ìì‹ í”„ë¡œì„¸ìŠ¤
- ì´ë¦„ ìˆëŠ” íŒŒì´í”„(Named Pipe): FIFO ë¼ ë¶ˆë¦¬ëŠ” íŠ¹ìˆ˜ íŒŒì¼ì„ ì´ìš©í•˜ì—¬ ê´€ë ¨ ì—†ëŠ” í”„ë¡œì„¸ìŠ¤ê°„ì˜ í†µì‹ ì— ì‚¬ìš©

#### âš™ ì†Œì¼“ì„ ì´ìš©í•œ í†µì‹ 
ì—¬ëŸ¬ ì»´í“¨í„°ì— ìˆëŠ” í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ì„ 'ë„¤íŠ¸ì›Œí‚¹' ì´ë¼ê³  í•œë‹¤.  
ë‹¤ë¥¸ ì»´í“¨í„°ì™€ í†µì‹ í•˜ê¸° ìœ„í•´ì„œëŠ” ìœ„ì¹˜ë¥¼ íŒŒì•…í•˜ê³ , ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ ì¤‘ì—ì„œ í†µì‹ í•  í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹ë³„í•´ì•¼ í•œë‹¤.  
ì†Œì¼“ì— ì“°ê¸° ì—°ì‚°ì„ í•˜ë©´ ë°ì´í„°ê°€ ì „ì†¡ë˜ê³ , ì½ê¸° ì—°ì‚°ì„ í†µí•´ì„œ ë°ì´í„°ë¥¼ ë°›ëŠ”ë‹¤.  
ì†Œì¼“ì€ ë™ê¸°í™”ë¥¼ ì§€ì›í•˜ê³ , ì–‘ë°©í–¥ í†µì‹ ì„ ìœ„í•´ì„œ ë‹¨ í•˜ë‚˜ì˜ ì†Œì¼“ë§Œ ìˆìœ¼ë©´ ëœë‹¤.

****

### ğŸ“Œ ê³µìœ  ìì›ê³¼ ì„ê³„êµ¬ì—­
- ê³µìœ  ìì›(Shared Resources): ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ê³µë™ìœ¼ë¡œ ì´ìš©í•˜ëŠ” ë³€ìˆ˜, ë©”ëª¨ë¦¬, íŒŒì¼ ë“±

#### âš™ ê³µìœ  ìì›ì˜ ì ‘ê·¼
'ëˆ„ê°€', 'ì–¸ì œ' ìì›ì— ì ‘ê·¼í•´ ë°ì´í„°ë¥¼ ì½ê³  ì“°ëŠ” ìˆœì„œì— ë”°ë¼ì„œ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ê¸° ë•Œë¬¸ì— ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œ ë°œìƒì„ ëŒ€ë¹„í•´ì•¼ í•œë‹¤.  
ë‘ ê°œ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ê°€ ê³µìœ  ìì›ì„ ë³‘í–‰ì ìœ¼ë¡œ ì½ê±°ë‚˜ ì“°ëŠ” ìƒí™©ì„ 'ê²½ìŸ ì¡°ê±´(Race Condition)' ì´ë¼ê³  í•œë‹¤.

#### âš™ ì„ê³„ êµ¬ì—­(Critical Section)
ë©€í‹° ìŠ¤ë ˆë”© í™˜ê²½ì—ì„œ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë‚˜ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ì‹¤í–‰ë  ë•Œ, ê°™ì€ ìì›ì— ì ‘ê·¼í•  ë•Œ ë°œìƒë˜ëŠ” ë¬¸ì œë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ë™ì‹œì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡
ì œí•œëœ ì½”ë“œ ì˜ì—­

- ìƒí˜¸ ë°°ì œ(Mutual Exclusion): í•œ í”„ë¡œì„¸ìŠ¤ê°€ ì„ê³„êµ¬ì—­ì— ë“¤ì–´ê°€ë©´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ëŠ” ì„ê³„êµ¬ì—­ì— ë“¤ì–´ê°ˆ ìˆ˜ ì—†ë‹¤.
- í•œì • ëŒ€ê¸°(Bounded Waiting): ì–´ë–¤ í”„ë¡œì„¸ìŠ¤ë„ ë¬´í•œ ëŒ€ê¸°(Infinite Postpone) í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.
- Progress Flexibility: í•œ í”„ë¡œì„¸ìŠ¤ê°€ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ì§„í–‰ì„ ë°©í•´í•´ì„œëŠ” ì•ˆëœë‹¤.

****

### ğŸ“Œ ì„ê³„êµ¬ì—­ í•´ê²° ë°©ë²•
ë‹¨ìˆœí•˜ê²Œ ì ê¸ˆ(lock)ì„ ê±¸ì–´ì„œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

#### âš™ ìƒí˜¸ ë°°ì œ ë¬¸ì œ

```
int lock = false;

while(lock == true);
lock = true;
--- ì„ê³„êµ¬ì—­ ---
lock = false;
```

1. ì´ˆê¸° lock ì„¸íŒ…ì€ false ë¡œ ì„ê³„êµ¬ì—­ ì‚¬ìš© ê°€ëŠ¥ì„ ì˜ë¯¸í•œë‹¤.
2. while ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— ì˜í•´ ì ìœ ì¤‘ì´ë©´ ê³„ì†í•´ì„œ ëŒ€ê¸°í•œë‹¤.
3. lock ì´ false ì´ë©´ true ë¡œ ë³€ê²½í•´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ ë³€ê²½í•˜ê³ , ì‘ì—… í•œë‹¤.
4. ì‘ì—…ì´ ëë‚˜ë©´ lock ì„ ë‹¤ì‹œ false ë¡œ ë³€ê²½í•œë‹¤.

- ë¬¸ì œì 
1. ìœ„ ë°©ë²•ì—ì„œ ë¬¸ì œê°€ ìˆëŠ”ë° í”„ë¡œì„¸ìŠ¤ê°€ while ì€ ë¹ ì ¸ë‚˜ì™”ì§€ë§Œ lock ì„ ê±¸ì§€ ëª»í•œ ìƒíƒœì¼ ë•Œ(í”„ë¡œì„¸ìŠ¤ê°€ timeout ìœ¼ë¡œ ì¤€ë¹„ ìƒíƒœë¡œ ë³€ê²½)
2. while ì„ ëŒë©´ì„œ Busy Waiting ìƒíƒœë¡œ ëŒ€ê¸°

#### âš™ í•œì • ëŒ€ê¸° ë¬¸ì œ
```
int lock1 = false;
int lock2 = false;

[ process 1 ] 
while(lock2 == true);
--- ì„ê³„êµ¬ì—­ ---
lock1 = false;

[ process 2 ]
while(lock1 == true);
--- ì„ê³„êµ¬ì—­ ---
lock2 = false;
```

í”„ë¡œì„¸ìŠ¤ë§ˆë‹¤ lock ì„ ë”°ë¡œ ë‘ì–´ì„œ ìƒí˜¸ë°°ì œ ë¬¸ì œë¥¼ í•´ê²° í–ˆì§€ë§Œ ë‹¤ë¥¸ ë¬¸ì œê°€ ìˆë‹¤.

- ë¬¸ì œì 
1. ë‘ í”„ë¡œì„¸ìŠ¤ê°€ lock ì„ true ë¡œ ì„¤ì •í•˜ê³  Timeout ìœ¼ë¡œ ì¤€ë¹„ ìƒíƒœë¡œ ë“¤ì–´ê°€ì„œ ë¬´í•œ ë£¨í”„ì— ë¹ ì§„ë‹¤. (êµì°© ìƒíƒœ, Deadlock)
2. í™•ì¥ì„± ë¬¸ì œ: í”„ë¡œì„¸ìŠ¤ê°€ ì¶”ê°€ë˜ë©´ lock ë„ ì¶”ê°€ë˜ì–´ì•¼ í•˜ê³ , if ë¬¸ ì¡°ê±´ë„ ì¶”ê°€ í•´ì•¼í•œë‹¤.

#### âš™ï¸ ìœµí†µì„± ë¬¸ì œ
```
int lock = 1;

[ process 1 ] 
while(lock2 == 2);
--- ì„ê³„êµ¬ì—­ ---
lock1 = 2;

[ process 2 ]
while(lock1 == 1);
--- ì„ê³„êµ¬ì—­ ---
lock2 = 1;
```

ìƒí˜¸ ë°°ì œì™€ í•œì • ëŒ€ê¸°ë¥¼ ë³´ì¥í•˜ëŠ” ì½”ë“œì´ë‹¤.  
í•˜ì§€ë§Œ ë²ˆê°ˆì•„ê°€ë©° ì‹¤í–‰ë˜ëŠ” êµ¬ì¡°ë¡œ í•œ í”„ë¡œì„¸ìŠ¤ê°€ ì—°ë‹¬ì•„ ì„ê³„êµ¬ì—­ì— ì§„ì…í•˜ê³  ì‹¶ì–´ë„ ê·¸ëŸ´ ìˆ˜ ì—†ë‹¤.  
ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— ì˜í•´ ë°©í•´ë°›ëŠ” í˜„ìƒì„ ê²½ì§ëœ ë™ê¸°í™”(Lockstep Synchronization) ë¼ê³  í•œë‹¤.

#### âš™ï¸ ì„¸ë§ˆí¬ì–´(Semaphore)
ì„ê³„êµ¬ì—­ì— ì§„ì…í•  ìˆ˜ ìˆëŠ” í”„ë¡œì„¸ìŠ¤ì˜ ìˆ˜ë¥¼ ì œí•œí•˜ê³ , í”„ë¡œì„¸ìŠ¤ê°€ ì§„ì…í•˜ë©´ ìŠ¤ìœ„ì¹˜ ëˆ„ë¥´ë“¯ ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œì„¸ìŠ¤ì˜ ìˆ˜ë¥¼ í•˜ë‚˜ ë¹¼ê³ , ì‚¬ìš©ì´ ëë‚˜ë©´
ê·¸ ìˆ˜ë¥¼ í•˜ë‚˜ ì˜¬ë¦¬ëŠ” ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤.  
ì •í•´ë†“ì€ ìˆ˜ê°€ 0ì´ ë˜ë©´ ê·¸ í›„ì— ì§„ì…í•œ í”„ë¡œì„¸ìŠ¤ëŠ” ëŒ€ê¸° ë¦¬ìŠ¤íŠ¸ì—ì„œ ëŒ€ê¸°í•˜ê¸° ë•Œë¬¸ì— Busy Waiting ìƒíƒœê°€ ì•„ë‹ˆë©°, ì„ê³„êµ¬ì—­ì„ ì ìœ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ê°€
ì‚¬ìš©ì´ ëë‚˜ë©´ wakeup() ì‹œì¼œì¤€ë‹¤.

#### âš™ï¸ ëª¨ë‹ˆí„°(Monitor)
ëª¨ë“  í”„ë¡œì„¸ìŠ¤ê°€ ê³µìœ ìì› ì‚¬ìš©ì‹œ ì„¸ë§ˆí¬ì–´ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•œë‹¤ë©´ ë”°ë¡œë”°ë¡œ êµ¬í˜„í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ê³µìœ  ìì›ì„ ë‚´ë¶€ë¡œ ìˆ¨ê¸°ê³ , ê³µìœ  ìì›ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ë§Œ ì œê³µí•œë‹¤.

****

### ğŸ“Œ íŒŒì¼, íŒŒì´í”„, ì†Œì¼“
#### âš™ï¸ íŒŒì¼
íŒŒì¼ì— ì €ì¥ëœ ë°ì´í„°ëŠ” ì™¼ìª½ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ì‹¤ì œë¡œëŠ” í•œ ì¤„ë¡œ ì €ì¥ë˜ëŠ”ë° ì´ë¥¼ ìˆœì°¨ íŒŒì¼(Sequential File) ì´ë¼ê³  í•˜ë©°, ìˆœì°¨ íŒŒì¼ì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì„
ìˆœì°¨ì  ì ‘ê·¼(Sequential Access) ë¼ê³  í•œë‹¤.

```
Text
Computer  ->    T e x t \n C o m p u t e r \n B o o k \0
Book            â†‘ ì‹œì‘ìœ„ì¹˜
```

íŒŒì¼ì„ ì—¬ëŠ” ë°©ì‹
- ì½ê¸° ì „ìš©(Read Only)
- ì½ê¸°/ì“°ê¸°(Read/Write)
- ì“°ê¸° ì „ìš©(Write only)
- ìƒì„±(Create)

fd(File Descriptor), buf(Buffer), read size ê°€ ì¸ìë¡œ ë“¤ì–´ê°ˆ ë•Œ  
ì˜ˆë¥¼ ë“¤ì–´ read(fd, buf, 5) ì‹¤í–‰ í•œë‹¤ë©´ 'Text' ê°€ ë²„í¼ì— ë“¤ì–´ê°ˆ ê²ƒì´ê³ , ê·¸ í›„ close(fd) ë¡œ íŒŒì¼ì„ ë‹«ëŠ”ë‹¤.  
ì´ë ‡ê²Œ íŒŒì¼ì„ í†µí•´ì„œ í†µì‹ í•˜ê²Œ ë˜ë©´ íŒŒì¼ ì…ì¶œë ¥ í•¨ìˆ˜ë“¤ì„ ì´ìš©í•´ì„œ í†µì‹ í•˜ê²Œ ëœë‹¤.  

```
#include <stdio.h>
#include <unistd.h>
#include <fcntl.h>

void main()
{
  int pid, fd;
  char buf[5];
  
  fd=open("com.txt", 0_RDWR);
  pid=fork();
  
  if(pid<0 || fd <0) exit(-1);
  
  else if(pid==0){
    write(fd, "Test", 5);
    close(fd);
    exit(0); }
  
  else { wait(0)
    lessk(fd, 0, SEEK_SET);
    read(fd, buf, 5);
    printf("%s", buf);
    close(fd);
    exit(0);
  }
}
```

fork()ë¥¼ í†µí•´ì„œ ìƒì„±ëœ ìì‹ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ë¶€ëª¨ê°€ open() í–ˆë˜ íŒŒì¼ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œê¹Œì§€ ê·¸ëŒ€ë¡œ ë³µì‚¬í•´ì¤€ë‹¤.(= ë¶€ëª¨&ìì‹ ë‘˜ ë‹¤ ì ‘ê·¼ ê°€ëŠ¥)  
lseek() ë¥¼ í†µí•´ì„œ ìœ„ì¹˜ë¥¼ ì¬ì¡°ì • í•˜ëŠ” ì´ìœ ëŠ” ìì‹ì´ write() ì‘ì—…ì„ í•œ ì§í›„ ë¶€ëª¨ê°€ ì½ê²Œ ë˜ë©´ fdê°€ ë³€ê²½ë˜ì„œ ì—‰ëš±í•œ ìœ„ì¹˜ì—ì„œ ë¶€í„° ì½ê²Œ ëœë‹¤.
  
ì¤‘ìš”í•œê±´ íŒŒì¼ì„ í†µí•œ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ì€ OS ë ˆë²¨ì—ì„œ ë™ê¸°í™”ë¥¼ ì§€ì›í•´ì£¼ì§€ ì•Šê¸° ë•Œë¬¸ì— wait() ê°™ì€ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ë™ê¸°í™”ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.