# **Chapter15 - let, const 키워드와 블록 레벨 스코프**

# **[ 📋 목차 ]**
- var 키워드로 선언한 변수의 문제점
  - 변수 중복 선언 허용
  - 함수 레벨 스코프
  - 변수 호이스팅
- let 키워드
  - 변수 중복 선언 금지
  - 블록 레벨 스코프
  - 변수 호이스팅
  - 전역 객체와 let
- const 키워드
  - 선언과 초기화
  - 재할당 금지
  - 상수
  - const 키워드와 객체
- var vs let vs const

****

# **[ 🗂️ 정리 ]**
## 📌 <b>var 키워드로 선언한 변수의 문제점</b>

### ⚙ <b>변수 중복 선언 허용</b>
이미 선언한 변수를 또 선언하는 중복 선언을 허용한다.  
중복 선언 후 값을 초기화 하지 않는다면 문제가 되지 않지만 값을 할당하면 어디서 값이 변경되는지 모르는 상황이 생길 수 있다.

### ⚙ <b>함수 레벨 스코프</b>
var 키워드는 오직 함수 레벨의 스코프만 지역 스코프로 인정하기 때문에 코드 블록 내에서 선언해도 전역 변수가 된다.

```javascript
var i = 10;

for(var i = 0; i < 5; i++) {
    console.log(i); // output: 1, 2, 3, 4
}

console.log(i); // output: 5
```

### ⚙ <b>변수 호이스팅</b>
에러를 발생 시키지는 않지만 프로그램 흐름상 옳지 않고, 가독성을 떨어트린다.  
결론적으로 오류를 발새시킬 여지를 높이다.

## 📌 <b>let 키워드</b>

### ⚙ <b>변수 중복 선언 금지</b>
중복으로 변수 선언시 SyntaxError 를 발생 시킨다.

### ⚙ <b>블록 레벨 스코프</b>
모든 코드 블록을 지역 스코프로 인정하는 블록 레벨 스코프(Block-Level Scope)를 따른다.

### ⚙ <b>변수 호이스팅</b>
var 키워드의 경우 엔진에 의해서 암묵적으로 '선언' 과 '초기화' 가 한 번에 이루어진다.  
선언시 레시컬 환경에 변수 식별자를 등록하고, undefined 로 변수를 초기화 한다.
  
하지만 let 키워드는 선언 이전에 참조하면 ReferenceError 가 발생하며, 초기화 이전에는 undefined 로 값이 할당되어 있다.

```javascript
console.log(foo);  // output: ReferenceError

let foo;
console.log(foo);  // undefined

foo = 1;
console.log(foo); // output: 1
```

이 때 스코프의 시작점 부터 let 변수의 시작점까지 변수를 참조할 수 없는 구간을(Temporal Dead Zone, TDZ) 라고 한다.  
let 키워드는 '선언' 과 '초기화' 가 분리되어 진행된다고 생각하면 된다.

### ⚙ <b>전역 객체와 let</b>
let 키워드의 경우 var 와 다르게 전역 객체의 프로퍼티(window 의 프로퍼티) 가 되지 않고 실행 컨텍스트(뒤에서 나옴) 에 등록되어
사용된다.

## 📌 <b>const 키워드</b>
상수를 사용하기 위해서 사용하지만, 반드시 상수 용도일 필요는 없다.

### ⚙ <b>선언과 초기화</b>
상수와 같이 선언과 같이 초기화가 이루어져야 한다.

```javascript
const foo; // output: SyntaxError: ...
```

### ⚙ <b>재할당 금지</b>
값이 한 번 할당되면 재할당이 불가능하다.

### ⚙ <b>상수</b>

> 일반적으로 사용하는 상수 사용법에 대한 설명...

### ⚙ <b>const 키워드와 객체</b>
const 키워드를 이용해서 객체를 할당한 경우 값을 변경할 수 있다.  
원시 타입의 경우 한 번 할당되는 경우 재할당할 수 있는 방법이 없지만, 객체의 재할당 없이도 직접 변경이 가능하다.

```javascript
const person = {
    name: 'Lee'
};

person.name = 'Kim';

console.log(person); // output: {name: "Kim"}
```

## 📌 <b>var vs let vs const</b>

- ES6를 사용한다면 var 키워드는 사용하지 않는다.
- 재할당이 필요한 경우 let 키워드를 사용한다. (변수 스코프 좁게)
- 읽기 전용 원시 값, 객체는 const 키워드를 사용한다.

> 전체적으로 다른 언어를 다룬다면 크게 어렵거나 하지 않은 내용